(this["webpackJsonpgnc-frontend"]=this["webpackJsonpgnc-frontend"]||[]).push([[3],{1:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a.n(n),l=a(105),i=a.n(l),c=(a(283),a(47)),s=a(158),o=(a(284),a(263)),d=a(555),b=a(553),u=a(42);function h(e){var t=Object(n.useRef)(null),a=Object(n.useState)(null),r=Object(c.a)(a,2),l=r[0],s=r[1];return Object(n.useEffect)((function(){var a=t.current.getBoundingClientRect(),n=a.width,r=a.height;if(l)l.data(e.data),l.render(),l.fitView();else{var c=new b.a.Tooltip({offsetX:10,offsetY:20,getContent:function(e){var t=document.createElement("div");t.style.width="180px";var a="<h4><b>".concat(e.item.getModel().label,"</b></h4>");if(e.item.getModel().attrs){var n=e.item.getModel().attrs;for(var r in a+="<ul>",n)a+="<li><b> - ".concat(r,":</b> ").concat(n[r],"</li>");a+="</ul>"}return t.innerHTML=a,t},itemTypes:["node"]}),o=new b.a.TreeGraph({container:i.a.findDOMNode(t.current),width:n,height:r,linkCenter:!0,modes:{default:[{type:"collapse-expand",onChange:function(e,t){return e.getModel().collapsed=t,!0}},"drag-canvas","zoom-canvas"]},defaultNode:{size:26,anchorPoints:[[0,.5],[1,.5]]},defaultEdge:{type:"cubic-vertical"},layout:{type:"compactBox",direction:"TB",getId:function(e){return e.id},getHeight:function(){return 16},getWidth:function(){return 16},getVGap:function(){return 80},getHGap:function(){return 50}},plugins:[c]});o.node((function(e){var t="right",a=0;return e.children||(t="bottom",a=Math.PI/2),{style:{fill:"#ECFDF5",stroke:"#34D399"},label:e.label,labelCfg:{position:t,offset:5,style:{rotate:a,textAlign:"start"}}}})),o.data(e.data),o.render(),o.fitView(),s(o)}}),[l,e.data]),Object(u.jsx)("div",{style:{display:"flex",flex:"1 1 auto"},ref:t})}var f,j,x=a(543),m=o.a.div.attrs({className:"flex flex-auto container w-full lg:w-1/3 p-2"})(f||(f=Object(s.a)(["\n    height: 80vh;\n"]))),g=o.a.div.attrs({className:"flex flex-auto w-full h-full bg-white rounded-xl shadow-md overflow-hidden"})(j||(j=Object(s.a)([""])));function O(e){return Object(u.jsx)(m,{children:Object(u.jsx)(g,{children:Object(u.jsxs)("div",{className:"flex flex-auto flex-col h-full",children:[Object(u.jsxs)("div",{className:"flex flex-grow-0 flex-row p-2 bg-green-600",children:[e.left,Object(u.jsx)("div",{className:"flex flex-grow"}),e.right]}),Object(u.jsx)("div",{className:"flex flex-auto flex-row p-2",children:e.content})]})})})}var p=a(549),v=a(554);function N(){for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];return t.filter(Boolean).join(" ")}function y(e){var t=e.options,a=Object(n.useState)(e.defaultOption),r=Object(c.a)(a,2),l=r[0],i=r[1];return Object(u.jsx)(p.a,{value:l,onChange:function(t){i(t);var a=e.onChange;null===a||void 0===a||a(t)},children:function(e){var a=e.open;return Object(u.jsxs)("div",{className:"relative",children:[Object(u.jsxs)(p.a.Button,{className:"relative w-40 h-full bg-white border border-gray-300 rounded-lg shadow-sm pl-2 pr-12 py-2 text-left cursor-default focus:outline-none focus:ring-1 focus:ring-green-500 focus:border-green-500 sm:text-sm",children:[Object(u.jsx)("span",{className:"flex items-center",children:Object(u.jsx)("span",{className:"ml-3 block truncate",children:l.name})}),Object(u.jsx)("span",{className:"ml-3 absolute inset-y-0 right-0 flex items-center pr-2 pointer-events-none",children:Object(u.jsx)(v.b,{className:"h-5 w-5 text-gray-400","aria-hidden":"true"})})]}),Object(u.jsx)(p.b,{show:a,as:n.Fragment,leave:"transition ease-in duration-100",leaveFrom:"opacity-100",leaveTo:"opacity-0",children:Object(u.jsx)(p.a.Options,{static:!0,className:"absolute z-10 mt-1 w-full bg-white shadow-lg max-h-56 rounded-lg py-1 text-base ring-1 ring-black ring-opacity-5 overflow-auto focus:outline-none sm:text-sm",children:t.map((function(e){return Object(u.jsx)(p.a.Option,{className:function(e){return N(e.active?"text-white bg-green-600":"text-gray-900","cursor-default select-none relative py-2 pl-3 pr-9")},value:e,children:function(t){var a=t.selected,n=t.active;return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"flex items-center",children:Object(u.jsx)("span",{className:N(a?"font-semibold":"font-normal","ml-3 block truncate"),children:e.name})}),a?Object(u.jsx)("span",{className:N(n?"text-white":"text-green-600","absolute inset-y-0 right-0 flex items-center pr-4"),children:Object(u.jsx)(v.a,{className:"h-5 w-5","aria-hidden":"true"})}):null]})}},e.id)}))})})]})}})}var w,C,k,S,I,B,A=a(562),F=a(550);var G=o.a.button.attrs({className:"flex flex-grow-0 py-2 px-4 ml-2 font-semibold rounded-lg shadow-md text-white bg-green-500 hover:bg-green-700"})(w||(w=Object(s.a)([""]))),T=o.a.header.attrs({className:"flex flex-auto"})(C||(C=Object(s.a)(["\n    height: 17vh;\n"]))),R=o.a.footer.attrs({className:"flex flex-auto "})(k||(k=Object(s.a)(["\n    height: 3vh;\n    min-height: 35px;\n"]))),E=o.a.span.attrs({className:"flex text-white text-3xl object-center font-bold pl-2 pt-1"})(S||(S=Object(s.a)([""]))),L=o.a.span.attrs({className:"bg-clip-text text-transparent bg-gradient-to-r from-green-400 to-blue-500"})(I||(I=Object(s.a)(["\n    line-height: 15vh;\n"]))),M=o.a.input.attrs({className:"text-green-900 rounded-lg shadow-md border-2 border-green-500"})(B||(B=Object(s.a)([""]))),P=[{id:1,name:"Basic"},{id:2,name:"Unary"}],D=[{id:1,name:"Parse Tree"},{id:2,name:"AST"}];var V=function(){var e=Object(n.useState)("int main (int a) {\n    int b = 3;\n    if (a == 0) {\n        a += b;\n    }\n    return a;\n}"),t=Object(c.a)(e,2),a=t[0],r=t[1],l=Object(n.useState)(x),i=Object(c.a)(l,2),s=i[0],o=i[1],b=Object(n.useState)(x),f=Object(c.a)(b,2),j=f[0],m=f[1],g=Object(n.useState)(D[0]),p=Object(c.a)(g,2),v=p[0],N=p[1];return Object(u.jsxs)("div",{className:"bg-green-100",children:[Object(u.jsx)(T,{children:Object(u.jsxs)("div",{className:"text-4xl sm:text-6xl md:text-7xl lg:text-8xl text-center object-center align-middle font-extrabold w-full h-full",children:[Object(u.jsx)(L,{children:"GNC Compiler Online"}),Object(u.jsx)("a",{href:"https://github.com/PAN-Ziyue/GNC",children:Object(u.jsx)("img",{className:"mx-auto p-1",src:"https://img.shields.io/github/stars/PAN-Ziyue/GNC",alt:"GitHub Repo"})})]})}),Object(u.jsxs)("div",{className:"flex flex-auto flex-col lg:flex-row",children:[Object(u.jsx)(O,{left:Object(u.jsx)(E,{children:"Code"}),right:Object(u.jsx)(y,{options:P,defaultOption:P[0]}),content:Object(u.jsx)(d.a,{defaultLanguage:"c",theme:"light",onChange:r,value:a})}),Object(u.jsx)(O,{left:Object(u.jsx)("div",{children:Object(u.jsx)(E,{children:"Visualization"})}),right:Object(u.jsxs)("div",{className:"flex flex-row",children:[Object(u.jsx)(y,{options:D,defaultOption:v,onChange:N}),Object(u.jsx)(G,{onClick:function(){console.log(v);var e=JSON.parse(Object(A.a)(a));e.error?alert(e.error_message):(o(e.parse_tree),m(function(e){var t=0;return{id:t.toString(),label:"GNC",attrs:{remark:"AST Root Node"},children:function e(a){var n,r=[],l=Object(F.a)(a);try{for(l.s();!(n=l.n()).done;){var i=n.value,s={id:(t+=1).toString(),label:"",attrs:{},children:[]};if("BreakStatement"===i||"ContinueStatement"===i)s.label=i;else for(var o in i)switch(s.label=o,o){case"Assignment":var d=Object(c.a)(i[o],3),b=d[0],u=d[1],h=d[2];s.attrs={assignOperation:b,leftValue:u},s.children=e([h]);break;case"Identifier":s.attrs={name:i[o]};break;case"IntLiteral":case"BoolLiteral":case"FloatLiteral":s.attrs={value:i[o]};break;case"Declaration":var f=Object(c.a)(i[o],2),j=f[0],x=f[1];s.attrs={type:j,name:x};break;case"GlobalDeclaration":var m=Object(c.a)(i[o],3),g=m[0],O=m[1],p=m[2];s.attrs={type:g,name:O},s.children=e([p]);break;case"BinaryExpression":var v=Object(c.a)(i[o],3),N=v[0],y=v[1],w=v[2];s.attrs={binaryOperator:N},s.children=e([y,w]);break;case"UnaryExpression":var C=Object(c.a)(i[o],2),k=C[0],S=C[1];s.attrs={unaryOperator:k},s.children=e([S]);break;case"Function":var I=Object(c.a)(i[o],4),B=I[0],A=I[1],G=I[2],T=I[3];t+=1,s.attrs={functionName:A,returnType:B,parameters:JSON.stringify(G,null,2)},s.children=e(T);break;case"ReturnStatement":s.children=e([i[o]]);break;case"FunctionCall":var R=Object(c.a)(i[o],2),E=R[0],L=R[1];s.attrs={functionName:E},s.children=e([{Arguments:L}]);break;case"ForStatement":var M=Object(c.a)(i[o],4),P=M[0],D=M[1],V=M[2],J=M[3];s.children=e([{InitClause:P},D,V,J]);break;case"WhileStatement":var z=Object(c.a)(i[o],3),H=z[0],Z=z[1],_=z[2];s.attrs={isDoWhile:H},s.children=e([Z,_]);break;case"IfStatement":case"InitClause":case"Arguments":case"BlockStatement":s.children=e(i[o]);break;case"BreakStatement":case"ContinueStatement":break;default:console.log(o),console.log(i[o])}r.push(s)}}catch(W){l.e(W)}finally{l.f()}return r}(e)}}(e.ast)))},children:"Compile"})]}),content:Object(u.jsx)(h,{data:1===v.id?s:j})}),Object(u.jsx)(O,{left:Object(u.jsx)(E,{children:"Running Result"}),right:Object(u.jsx)(G,{children:"Run"}),content:Object(u.jsxs)("div",{children:["function: `main()`",Object(u.jsx)("br",{}),"a: ",Object(u.jsx)(M,{}),Object(u.jsx)("br",{}),"res: 23333"]})})]}),Object(u.jsx)(R,{children:Object(u.jsxs)("p",{className:"text-xs lg:text-lg text-green-700 text-opacity-50 text-center object-center w-full",children:[Object(u.jsx)("a",{href:"https://github.com/PAN-Ziyue/GNC",className:"no-underline hover:underline",children:"GNC"})," (2021) is the course project of Compilation Principle by Ziyue, MartinNose and ",Object(u.jsx)("a",{href:"https://www.ncj.wiki",className:"no-underline hover:underline",children:"NCJ"}),'. GNC is a recursive acronym for "GNC\'s Not C-language!"']})})]})},J=function(e){e&&e instanceof Function&&a.e(4).then(a.bind(null,563)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,l=t.getLCP,i=t.getTTFB;a(e),n(e),r(e),l(e),i(e)}))};i.a.render(Object(u.jsx)(r.a.StrictMode,{children:Object(u.jsx)(V,{})}),document.getElementById("root")),J()},283:function(e,t,a){},284:function(e,t,a){},543:function(e){e.exports=JSON.parse('{"id":"0","label":"GNC","attrs":{"remark":"AST Root Node"},"children":[{"id":"1","label":"Function","attrs":{"functionName":"main","returnType":"Int","parameters":"[\\n  {\\n    \\"param_type\\": \\"Int\\",\\n    \\"param_name\\": \\"a\\"\\n  }\\n]"},"children":[{"id":"3","label":"Declaration","attrs":{"type":"Int","name":"b"},"children":[]},{"id":"4","label":"Assignment","attrs":{"assignOperation":"Simple","leftValue":"b"},"children":[{"id":"5","label":"IntLiteral","attrs":{"value":3},"children":[]}]},{"id":"6","label":"IfStatement","attrs":{},"children":[{"id":"7","label":"BinaryExpression","attrs":{"binaryOperator":"Equal"},"children":[{"id":"8","label":"Identifier","attrs":{"name":"a"},"children":[]},{"id":"9","label":"IntLiteral","attrs":{"value":0},"children":[]}]},{"id":"10","label":"BlockStatement","attrs":{},"children":[{"id":"11","label":"Assignment","attrs":{"assignOperation":"Addition","leftValue":"a"},"children":[{"id":"12","label":"Identifier","attrs":{"name":"b"},"children":[]}]}]},{"id":"13","label":"BlockStatement","attrs":{},"children":[]}]},{"id":"14","label":"ReturnStatement","attrs":{},"children":[{"id":"15","label":"Identifier","attrs":{"name":"a"},"children":[]}]}]}]}')}}]);
//# sourceMappingURL=3.c88ae492.chunk.js.map