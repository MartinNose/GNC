{"version":3,"sources":["components/AntVG6.js","components/Card.js","App.js","reportWebVitals.js","entrypoint.js"],"names":["AntVTree","props","ref","useRef","useState","graph","setGraph","useEffect","current","getBoundingClientRect","width","height","data","render","fitView","tooltip","G6","Tooltip","offsetX","offsetY","getContent","e","outDiv","document","createElement","style","content","item","getModel","label","attrs","attr","innerHTML","itemTypes","tmp_graph","TreeGraph","container","ReactDOM","findDOMNode","linkCenter","modes","default","type","onChange","collapsed","defaultNode","size","anchorPoints","defaultEdge","layout","direction","getId","d","id","getHeight","getWidth","getVGap","getHGap","plugins","node","position","rotate","children","Math","PI","fill","stroke","labelCfg","offset","textAlign","display","flex","CardContainer","styled","div","className","CardItem","Card","left","right","Button","button","Header","header","Footer","footer","CardLabelText","span","Title","Input","input","App","code","editCode","mockASTData","parseTree","setParseTree","href","src","alt","defaultLanguage","theme","value","onClick","JSON","parse","compile_result","error","alert","console","log","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","StrictMode","getElementById"],"mappings":"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","file":"static/js/3.e6a7f419.chunk.js","sourcesContent":["import React, {useEffect, useRef, useState} from 'react';\nimport ReactDOM from 'react-dom';\nimport G6 from '@antv/g6';\n\nexport default function AntVTree(props) {\n    const style = {\n        display: 'flex',\n        flex: '1 1 auto'\n    }\n    const ref = useRef(null);\n    const [graph, setGraph] = useState(null);\n    // let graph = null;\n\n    useEffect(() => {\n        const {width, height} = ref.current.getBoundingClientRect()\n        if (!graph) {\n            const tooltip = new G6.Tooltip({\n                offsetX: 10,\n                offsetY: 20,\n                getContent(e) {\n                    const outDiv = document.createElement('div');\n                    outDiv.style.width = '180px';\n                    let content = `<h4>${e.item.getModel().label}</h4>`\n\n                    if (e.item.getModel().attrs) {\n                        const attrs = e.item.getModel().attrs\n                        content += `<ul>`\n                        for (const attr in attrs) {\n                            content += `<li> - ${attr}: ${attrs[attr]}</li>`\n                        }\n                        content += `</ul>`\n                    }\n                    outDiv.innerHTML = content\n                    return outDiv\n                },\n                itemTypes: ['node']\n            });\n            // eslint-disable-next-line\n            let tmp_graph = new G6.TreeGraph({\n                container: ReactDOM.findDOMNode(ref.current),\n                width: width,\n                height: height,\n                linkCenter: true,\n                modes: {\n                    default: [\n                        {\n                            type: 'collapse-expand',\n                            onChange: function onChange(item, collapsed) {\n                                const data = item.getModel();\n                                data.collapsed = collapsed;\n                                return true;\n                            },\n                        },\n                        'drag-canvas',\n                        'zoom-canvas',\n                    ],\n                },\n                defaultNode: {\n                    size: 26,\n                    anchorPoints: [\n                        [0, 0.5],\n                        [1, 0.5],\n                    ],\n                },\n                defaultEdge: {\n                    type: 'cubic-vertical',\n                },\n                layout: {\n                    type: 'compactBox',\n                    direction: 'TB',\n                    getId: function getId(d) {\n                        return d.id;\n                    },\n                    getHeight: function getHeight() {\n                        return 16;\n                    },\n                    getWidth: function getWidth() {\n                        return 16;\n                    },\n                    getVGap: function getVGap() {\n                        return 80;\n                    },\n                    getHGap: function getHGap() {\n                        return 20;\n                    },\n                },\n                plugins: [tooltip],\n            });\n            tmp_graph.node(function (node) {\n                let position = 'right';\n                let rotate = 0;\n                if (!node.children) {\n                    position = 'bottom';\n                    rotate = Math.PI / 2;\n                }\n                return {\n                    style: {\n                        fill: '#ECFDF5',\n                        stroke: '#34D399',\n                    },\n                    label: node.label,\n                    labelCfg: {\n                        position,\n                        offset: 5,\n                        style: {\n                            rotate,\n                            textAlign: 'start',\n                        },\n                    },\n                };\n            });\n            tmp_graph.data(props.data);\n            tmp_graph.render();\n            tmp_graph.fitView();\n            setGraph(tmp_graph)\n        } else {\n            graph.data(props.data);\n            graph.render();\n            graph.fitView();\n        }\n    }, [graph, props.data]);\n\n    return <div style={style} ref={ref}/>;\n}","import styled from \"styled-components\";\n\nconst CardContainer = styled.div.attrs({\n    className: \"flex flex-auto container w-full lg:w-1/3 p-2\"\n})`\n    height: 80vh;\n`;\n\nconst CardItem = styled.div.attrs({\n    className: \"flex flex-auto w-full h-full bg-white rounded-xl shadow-md overflow-hidden\"\n})``;\n\nexport function Card(props) {\n    return (\n        <CardContainer>\n            <CardItem>\n                <div className={'flex flex-auto flex-col h-full'}>\n                    <div className={'flex flex-grow-0 flex-row p-2 bg-green-600'}>\n                        {props.left}\n                        <div className={'flex flex-grow'}/>\n                        {props.right}\n                    </div>\n                    <div className={'flex flex-auto flex-row p-2'}>\n                        {props.content}\n                    </div>\n                </div>\n            </CardItem>\n        </CardContainer>\n    )\n}","import './App.css';\nimport {useState} from \"react\";\nimport styled from 'styled-components'\nimport Editor from \"@monaco-editor/react\";\nimport AntVTree from \"./components/AntVG6\";\nimport mockASTData from './components/test.json';\nimport {Card} from \"./components/Card\";\nimport {compile_result} from \"gnc\"\n\nconst Button = styled.button.attrs({\n    className: \"flex flex-grow-0 py-2 px-4 font-semibold rounded-lg shadow-md text-white bg-green-500 hover:bg-green-700\"\n})``;\n\nconst Header = styled.header.attrs({\n    className: \"flex flex-auto\"\n})`\n    height: 17vh;\n`;\n\nconst Footer = styled.footer.attrs({\n    className: \"flex flex-auto \"\n})`\n    height: 3vh;\n    min-height: 35px;\n`;\n\nconst CardLabelText = styled.span.attrs({\n    className: \"flex text-white text-3xl object-center font-bold pl-2 pt-1\"\n})``;\n\nconst Title = styled.span.attrs({\n    className: \"bg-clip-text text-transparent bg-gradient-to-r from-green-400 to-blue-500\"\n})`\n    line-height: 15vh;\n`;\n\nconst Input = styled.input.attrs({\n    className: \"text-green-900 rounded-lg shadow-md border-2 border-green-500\"\n})``;\n\nconst InitialCode = `int main (int a) {\n    return a;\n}`\n\nfunction App() {\n    const [code, editCode] = useState(InitialCode)\n    const [parseTree, setParseTree] = useState(mockASTData)\n\n    const compile = () => {\n        let data = JSON.parse(compile_result(code))\n        if (!data.error) {\n            setParseTree(data['parse_tree'])\n            console.log(data['ast'])\n        } else {\n            alert(data['error_message']) // TODO: Use Modal\n        }\n    }\n\n    return (\n        <div className={'bg-green-100'}>\n            <Header>\n                <div className=\"text-4xl sm:text-6xl md:text-7xl lg:text-8xl text-center object-center align-middle font-extrabold w-full h-full\">\n                    <Title>\n                        GNC Compiler Online\n                    </Title>\n                    <a href={'https://github.com/PAN-Ziyue/GNC'}>\n                        <img className={'mx-auto flex-grow-0 p-1'} src={'https://img.shields.io/github/stars/PAN-Ziyue/GNC'} alt={'GitHub Repo'}/>\n                    </a>\n                </div>\n            </Header>\n            <div className={\"flex flex-auto flex-col lg:flex-row\"}>\n                <Card\n                    left={<CardLabelText>Code</CardLabelText>}\n                    right={<Button>Run</Button>}\n                    content={\n                        <Editor\n                            defaultLanguage=\"c\"\n                            theme=\"light\"\n                            onChange={editCode}\n                            value={code}\n                        />\n                    }\n                />\n                <Card\n                    left={\n                        <div className={'flex flex-row'}>\n                            <CardLabelText>Parse Tree</CardLabelText>\n                            <CardLabelText>/</CardLabelText>\n                            <CardLabelText className={'text-opacity-50'}>AST</CardLabelText>\n                        </div>\n                    }\n                    right={<Button onClick={compile}>Compile</Button>}\n                    content={\n                        <AntVTree\n                            data={parseTree}\n                        />\n                    }\n                />\n                <Card\n                    left={<CardLabelText>Running Result</CardLabelText>}\n                    right={<Button>Run</Button>}\n                    content={\n                        <div>\n                            function: `main()`\n                            <br/>\n                            a: <Input/>\n                            <br/>\n                            res: 23333\n                        </div>\n                    }\n                />\n            </div>\n            <Footer>\n                <p className=\"text-xs lg:text-lg text-green-700 text-opacity-50 text-center object-center w-full\">\n                    <a href={'https://github.com/PAN-Ziyue/GNC'} className=\"no-underline hover:underline\">GNC</a> (2021) is the course project of Compilation Principle by Ziyue, MartinNose and <a href={'https://www.ncj.wiki'} className=\"no-underline hover:underline\">NCJ</a>. GNC is a recursive acronym for \"GNC's Not C-language!\"\n                </p>\n            </Footer>\n        </div>\n    );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n    <React.StrictMode>\n        <App />\n    </React.StrictMode>,\n    document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}